---
import styles from "./ctaButton.module.scss";
---

<div
  class={styles.modalBackdrop}
  data-callback-modal-root
  data-modal-backdrop
  data-open="false"
  aria-hidden="true"
>
  <div
    class={styles.modal}
    role="dialog"
    aria-modal="true"
    aria-labelledby="callback-modal-title"
  >
    <button
      type="button"
      class={styles.closeButton}
      data-modal-close
      aria-label="Fermer la demande de rappel"
    >
      ×
    </button>

    <div class={styles.modalHeader}>
      <img src="images/logo.svg" alt="Envolet & Toit" />
      <img src="images/veluxXpert.svg" alt="Partenaire Velux" />
    </div>

    <h2 id="callback-modal-title" class={styles.modalTitle}>
      Nous vous rappelons dans les plus brefs délais
    </h2>

    <form class={styles.form} data-modal-form>
      <label class={styles.visuallyHidden} for="callback-name">Nom</label>
      <input
        id="callback-name"
        name="name"
        type="text"
        required
        placeholder="Nom*"
      />

      <label class={styles.visuallyHidden} for="callback-phone">Téléphone</label
      >
      <input
        id="callback-phone"
        name="phone"
        type="tel"
        required
        pattern="^(?:0[1-9](?:(?:[ .]|-)?[0-9]{2}){4})$"
        placeholder="Téléphone*"
      />

      <button class={styles.submitButton} type="submit">
        <span aria-hidden="true" class={styles.icon}>
          <svg viewBox="0 0 24 24" role="img" focusable="false">
            <path
              fill="currentColor"
              d="M6.62 10.79a15.05 15.05 0 0 0 6.59 6.59l2.2-2.2a1 1 0 0 1 1-.26 11.36 11.36 0 0 0 3.56.57 1 1 0 0 1 1 1v3.57a1 1 0 0 1-1 1 17 17 0 0 1-17-17 1 1 0 0 1 1-1H7a1 1 0 0 1 1 1 11.4 11.4 0 0 0 .57 3.56 1 1 0 0 1-.26 1z"
            ></path>
          </svg>
        </span>
        ÊTRE RAPPELÉ
      </button>
    </form>

    <p class={styles.successMessage} data-modal-success hidden>
      Votre demande a bien été prise en compte.
    </p>

    <p class={styles.errorMessage} data-modal-error hidden>
      Une erreur est survenue. Merci de réessayer plus tard.
    </p>
  </div>
</div>

<script type="module" is:inline>
  import("/src/components/CTA/ctaButton.client.ts");
</script>
